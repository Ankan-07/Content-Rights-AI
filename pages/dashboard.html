<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Content Rights AI</title>
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body>
    <nav class="navbar">
        <div class="navbar-brand">Content Rights AI</div>
        <div class="navbar-menu">
            <a href="dashboard.html" class="active">Dashboard</a>
            <a href="contract-management.html">Contracts</a>
            <a href="compliance.html">Compliance</a>
            <a href="settings.html">Settings</a>
            <a href="audit-logs.html">Audit Logs</a>
        </div>
        <div class="navbar-user">
            <span id="user-name">Loading...</span>
            <button onclick="viewProfile()">Profile</button>
            <button onclick="logout()">Logout</button>
        </div>
    </nav>

    <main class="dashboard-container">
        <section class="dashboard-header">
            <h1>Dashboard Overview</h1>
            <div class="dashboard-actions">
                <button onclick="refreshDashboard()">Refresh</button>
                <button onclick="exportReport()">Export Report</button>
                <button onclick="analyzeNewContract()">Analyze Contract</button>
                <button onclick="checkGeoCompliance()">Check Geo-Compliance</button>
            </div>
        </section>

        <section class="dashboard-grid">
            <div class="dashboard-card">
                <h2>Compliance Overview</h2>
                <div id="compliance-overview" class="compliance-stats">
                    <!-- Compliance stats will be populated by JavaScript -->
                </div>
            </div>

            <div class="dashboard-card">
                <h2>Active Contracts</h2>
                <div class="card-actions">
                    <input type="text" id="contract-search" placeholder="Search contracts...">
                    <button onclick="searchContracts()">Search</button>
                </div>
                <div id="active-contracts-list" class="contracts-list">
                    <!-- Active contracts will be populated by JavaScript -->
                </div>
            </div>

            <div class="dashboard-card">
                <h2>Expired Contracts</h2>
                <div id="expired-contracts-list" class="contracts-list">
                    <!-- Expired contracts will be populated by JavaScript -->
                </div>
            </div>

            <div class="dashboard-card">
                <h2>Recent Violations</h2>
                <div id="violations-list" class="violations-list">
                    <!-- Violations will be populated by JavaScript -->
                </div>
            </div>

            <div class="dashboard-card">
                <h2>Recent Activity</h2>
                <div id="recent-activity" class="activity-list">
                    <!-- Recent activity will be populated by JavaScript -->
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <p>&copy; 2024 Content Rights AI. All rights reserved.</p>
    </footer>

    <script type="module" src="../js/dashboard.js"></script>
    <script>
        // Global functions that need to be accessible from HTML
        function refreshDashboard() {
            window.location.reload();
        }

        function exportReport() {
            window.location.href = '/export-compliance-report?format=pdf';
        }

        function logout() {
            localStorage.removeItem('authToken');
            window.location.href = '/login.html';
        }

        function viewProfile() {
            window.location.href = '/profile.html';
        }

        function analyzeNewContract() {
            window.location.href = '/contract-management.html?action=new';
        }

        function checkGeoCompliance() {
            window.location.href = '/compliance.html?action=geo-check';
        }

        function searchContracts() {
            const searchQuery = document.getElementById('contract-search').value;
            window.location.href = `/contract-management.html?search=${encodeURIComponent(searchQuery)}`;
        }
    </script>
</body>
</html> 